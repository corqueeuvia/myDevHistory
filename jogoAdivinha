<meta charset="UTF-8">

<h1>Estou pensando em um número de 0 a 10!</h1>
<br>
<h3>Consegue adivinhar qual é?</h3>
<br>
<input>
<button>É esse?</button>

<script>

	function pulaLinha() {

		document.write("<br>");
	}

	function mostra(frase) {

        	document.write(frase);
	}
   
   	function sorteia(n) {
		
		return parseInt(Math.random() * n);
	}
	   
	function fim () {
	
		mostra("<h2> FIM </h2><br>Se mudar de ideia, só apertar <big>BORA!</big> ali em cima.")
	}
	
	function reload() {
	
		location.reload();
	}
	
	function fimDeJogo() {
		mostra("<h2>Mais uma vez?</h2><br>");
		mostra("<button type=text id=Sim>Bora!</button>");
		mostra("    <button type=text id=Não>Nope.</button>");
		var reiniciar = document.querySelector("#Sim");
		reiniciar.onclick = reload;
		var encerrar = document.querySelector("#Não");
		encerrar.onclick = fim;
		
	}

	var input = document.querySelector("input");
	input.focus();
	
	var limiteDeChances = 3;
	var chance = 1;
	
	var numeroPensado = sorteia(10);
		
	function verifica (){

		while (chance <= limiteDeChances) {

			if(input.value == numeroPensado && chance == 1) {

				alert("CARACA! Você acertou de primeira!");
				fimDeJogo();
				mostra("<br><br><big> Não é justo, você deve ser vidende.. Oo</big>");
				break;

			} else {

				if (input.value == numeroPensado) {
					
					alert("AÊÊ! Tava pensando em " + numeroPensado + ", mesmo. Parabéns!");
					fimDeJogo();
					mostra("<h3>Agora eu quero ver você acertar de primeira!</h3>");
					break;

	        	} else {

	        		if (limiteDeChances - chance == 0) {

						alert("EPA! Fim da linha. Acabaram as tentativas.");
						fimDeJogo();
						mostra("<br><br><big>Eu estava pensando no número " + numeroPensado + ", tenta de novo!");
						break;

					} else {

						if (input.value > numeroPensado) {
							alert("ERRROU! Tenta um número MENOR que " + input.value + ". Pode tentar mais " + (limiteDeChances - chance) + "x.");
							chance++;
							input.value = " ";
							input.focus();
							return;
						
						} else {

							alert("ERRROU! Tenta um número MAIOR que " + input.value + ". Pode tentar mais " + (limiteDeChances - chance) + "x.");
							chance++;
							input.value = " ";
							input.focus();
							return;
						}
					}
				}
			}
		}
	}
	
	var button = document.querySelector("button");
	button.onclick = verifica;

</script>
